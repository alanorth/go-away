networks:
  aws-cloud:
    - url: https://ip-ranges.amazonaws.com/ip-ranges.json
      jq-path: '(.prefixes[] | select(has("ip_prefix")) | .ip_prefix), (.prefixes[] | select(has("ipv6_prefix")) | .ipv6_prefix)'
  google-cloud:
    - url: https://www.gstatic.com/ipranges/cloud.json
      jq-path: '(.prefixes[] | select(has("ipv4Prefix")) | .ipv4Prefix), (.prefixes[] | select(has("ipv6Prefix")) | .ipv6Prefix)'
  oracle-cloud:
    - url: https://docs.oracle.com/en-us/iaas/tools/public_ip_ranges.json
      jq-path: '.regions[] | .cidrs[] | .cidr'
  azure-cloud:
    # todo: https://www.microsoft.com/en-us/download/details.aspx?id=56519 does not provide direct JSON
    - url: https://raw.githubusercontent.com/femueller/cloud-ip-ranges/refs/heads/master/microsoft-azure-ip-ranges.json
      jq-path: '.values[] | .properties.addressPrefixes[]'

  digitalocean:
    - url: https://www.digitalocean.com/geo/google.csv
      regex: "(?P<prefix>(([0-9]+\\.[0-9]+\\.[0-9]+\\.[0-9]+)|([0-9a-f:]+::))/[0-9]+),"
  linode:
    - url: https://geoip.linode.com/
      regex: "(?P<prefix>(([0-9]+\\.[0-9]+\\.[0-9]+\\.[0-9]+)|([0-9a-f:]+::))/[0-9]+),"
  vultr:
    - url: "https://geofeed.constant.com/?json"
      jq-path: '.subnets[] | .ip_prefix'
  cloudflare:
    - url: https://www.cloudflare.com/ips-v4
      regex: "(?P<prefix>[0-9]+\\.[0-9]+\\.[0-9]+\\.[0-9]+/[0-9]+)"
    - url: https://www.cloudflare.com/ips-v6
      regex: "(?P<prefix>[0-9a-f:]+::/[0-9]+)"

  icloud-private-relay:
    - url: https://mask-api.icloud.com/egress-ip-ranges.csv
      regex: "(?P<prefix>(([0-9]+\\.[0-9]+\\.[0-9]+\\.[0-9]+)|([0-9a-f:]+::))/[0-9]+),"
  tunnelbroker-relay:
    # HE Tunnelbroker
    - url: https://tunnelbroker.net/export/google
      regex: "(?P<prefix>([0-9a-f:]+::)/[0-9]+),"

# ILRI customizations

  datacenters:
  #tencent
    - asn: 132203
  #huawei-cloud
    - asn: 136907
  #alibaba-us
    - asn: 45102
  #alibaba
    - asn: 37963
  #serverel
    - asn: 50245
  #hetzner
    - asn: 24940
    - asn: 212317
    - asn: 213230
    - asn: 215859

  ##
  # Crawlers on Chinese operators scraping `/search` like crazy.
  ##
  chinese-crawlers:
    - asn: 132525
    - asn: 134810
    - asn: 136190
    - asn: 138169
    - asn: 17816
    - asn: 24444
    - asn: 24445
    - asn: 24547
    - asn: 4134
    - asn: 4808
    - asn: 4812
    - asn: 4837
    - asn: 56040
    - asn: 56041
    - asn: 56042
    - asn: 56044
    - asn: 56045
    - asn: 56046
    - asn: 56047
    - asn: 9808

  # See: https://platform.openai.com/docs/bots
  gptbot:
    - url: https://openai.com/gptbot.json
      jq-path: '.prefixes[] .ipv4Prefix'
