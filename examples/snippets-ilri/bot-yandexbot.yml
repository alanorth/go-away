# Yandex's own list is HTML and annoying to parse, so we will use another one.
#
# See: https://yandex.com/ips
networks:
  yandexbot:
    - url: https://raw.githubusercontent.com/sefinek/known-bots-ip-whitelist/main/lists/yandexbot/ips.txt
      regex: "(?P<prefix>[0-9]+\\.[0-9]+\\.[0-9]+\\.[0-9]+(/[0-9]+)?|[0-9a-f:]+:.+)"

conditions:
  is-bot-yandexbot:
      - &is-bot-yandexbot 'userAgent.contains("+http://yandex.com/bots") && remoteAddress.network("yandexbot")'